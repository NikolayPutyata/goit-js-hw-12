{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default function createHttpRequest(options) {\n  return axios\n    .get('https://pixabay.com/api', options)\n    .then(response => {\n      return response.data;\n    })\n    .catch(error => {\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport default function addImagesToHtml(images) {\n  const gallery = document.querySelector('.gallery');\n\n  const imagesHtml = images\n    .map(image => {\n      return `<li class=\"item-ul\">\n  <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" /></a>\n  <div class=\"about-img-div\">\n    <p class=\"description-img\">Likes</p>\n    <p class=\"description-img\">Views</p>\n    <p class=\"description-img\">Comments</p>\n    <p class=\"description-img\">Downloads</p>\n    <span class=\"description-value\">${image.likes}</span>\n    <span class=\"description-value\">${image.views}</span>\n    <span class=\"description-value\">${image.comments}</span>\n    <span class=\"description-value\">${image.downloads}</span>\n  </div>\n</li>`;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', imagesHtml);\n\n  const lightBox = new SimpleLightbox('.gallery li a', {\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n\n  lightBox.refresh();\n}\n","import createHttpRequest from './js/pixabay-api';\nimport addImagesToHtml from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreButton = document.querySelector('.load-more-button');\n\nlet currentPage = 1;\nlet searchQuery = '';\n\nform.addEventListener('submit', searchImagesFu);\nloadMoreButton.addEventListener('click', loadMoreImages);\n\nfunction searchImagesFu(event) {\n  event.preventDefault();\n\n  searchQuery = form.elements[0].value.trim();\n  currentPage = 1;\n  gallery.innerHTML = '';\n\n  if (searchQuery === '' || searchQuery.length < 2) {\n    iziToast.error({\n      title: '',\n      message: 'The input field is empty or has less than two characters!',\n    });\n  } else {\n    loader.style.display = 'block';\n\n    const options = {\n      params: {\n        key: '45056360-0d73312e4ecad0bc63c18ca30',\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: currentPage,\n        per_page: 15,\n      },\n    };\n    createHttpRequest(options)\n      .then(data => {\n        loader.style.display = 'none';\n\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: '',\n            message: 'No pictures found! Try again!',\n          });\n          loadMoreButton.style.display = 'none';\n        } else {\n          addImagesToHtml(data.hits);\n          loadMoreButton.style.display = 'block';\n        }\n      })\n      .catch(error => {\n        loader.style.display = 'none';\n        iziToast.error({\n          title: '',\n          message: `Error fetching images: ${error.message || error}`,\n        });\n      })\n      .finally(() => form.reset());\n  }\n}\n\nfunction loadMoreImages() {\n  loader.style.display = 'block';\n  currentPage += 1;\n\n  const options = {\n    params: {\n      key: '45056360-0d73312e4ecad0bc63c18ca30',\n      q: searchQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page: currentPage,\n      per_page: 15,\n    },\n  };\n\n  createHttpRequest(options)\n    .then(data => {\n      loader.style.display = 'none';\n\n      if (data.hits.length === 0) {\n        loadMoreButton.style.display = 'none';\n        iziToast.info({\n          title: '',\n          message: 'No more pictures found!',\n        });\n      } else {\n        addImagesToHtml(data.hits);\n        const galleryItem = document.querySelector('.gallery li');\n        const galleryItemParams = galleryItem.getBoundingClientRect();\n        window.scrollBy({\n          top: galleryItemParams.height * 2,\n          behavior: 'smooth',\n        });\n      }\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.error({\n        title: '',\n        message: `Error fetching images: ${error.message || error}`,\n      });\n    });\n}\n"],"names":["createHttpRequest","options","axios","response","error","addImagesToHtml","images","gallery","imagesHtml","image","SimpleLightbox","form","loader","loadMoreButton","currentPage","searchQuery","searchImagesFu","loadMoreImages","event","iziToast","data","galleryItemParams"],"mappings":"owBAEe,SAASA,EAAkBC,EAAS,CACjD,OAAOC,EACJ,IAAI,0BAA2BD,CAAO,EACtC,KAAKE,GACGA,EAAS,IACjB,EACA,MAAMC,GAAS,CACd,MAAMA,CACZ,CAAK,CACL,CCRe,SAASC,EAAgBC,EAAQ,CAC9C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAaF,EAChB,IAAIG,GACI;AAAA,aACAA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAM/CA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,sCACXA,EAAM,QAAQ;AAAA,sCACdA,EAAM,SAAS;AAAA;AAAA,MAGhD,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAU,EAEjC,IAAIE,EAAe,gBAAiB,CACnD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,CC5BA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCL,EAAU,SAAS,cAAc,UAAU,EAC3CM,EAAiB,SAAS,cAAc,mBAAmB,EAEjE,IAAIC,EAAc,EACdC,EAAc,GAElBJ,EAAK,iBAAiB,SAAUK,CAAc,EAC9CH,EAAe,iBAAiB,QAASI,CAAc,EAEvD,SAASD,EAAeE,EAAO,CAC7BA,EAAM,eAAc,EAEpBH,EAAcJ,EAAK,SAAS,CAAC,EAAE,MAAM,OACrCG,EAAc,EACdP,EAAQ,UAAY,GAEhBQ,IAAgB,IAAMA,EAAY,OAAS,EAC7CI,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2DACf,CAAK,GAEDP,EAAO,MAAM,QAAU,QAavBZ,EAXgB,CACd,OAAQ,CACN,IAAK,qCACL,EAAGe,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMD,EACN,SAAU,EACX,CACP,CAC6B,EACtB,KAAKM,GAAQ,CACZR,EAAO,MAAM,QAAU,OAEnBQ,EAAK,KAAK,SAAW,GACvBD,EAAS,MAAM,CACb,MAAO,GACP,QAAS,+BACrB,CAAW,EACDN,EAAe,MAAM,QAAU,SAE/BR,EAAgBe,EAAK,IAAI,EACzBP,EAAe,MAAM,QAAU,QAEzC,CAAO,EACA,MAAMT,GAAS,CACdQ,EAAO,MAAM,QAAU,OACvBO,EAAS,MAAM,CACb,MAAO,GACP,QAAS,0BAA0Bf,EAAM,SAAWA,CAAK,EACnE,CAAS,CACT,CAAO,EACA,QAAQ,IAAMO,EAAK,MAAK,CAAE,EAEjC,CAEA,SAASM,GAAiB,CACxBL,EAAO,MAAM,QAAU,QACvBE,GAAe,EAcfd,EAZgB,CACd,OAAQ,CACN,IAAK,qCACL,EAAGe,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMD,EACN,SAAU,EACX,CACL,CAE2B,EACtB,KAAKM,GAAQ,CAGZ,GAFAR,EAAO,MAAM,QAAU,OAEnBQ,EAAK,KAAK,SAAW,EACvBP,EAAe,MAAM,QAAU,OAC/BM,EAAS,KAAK,CACZ,MAAO,GACP,QAAS,yBACnB,CAAS,MACI,CACLd,EAAgBe,EAAK,IAAI,EAEzB,MAAMC,EADc,SAAS,cAAc,aAAa,EAClB,wBACtC,OAAO,SAAS,CACd,IAAKA,EAAkB,OAAS,EAChC,SAAU,QACpB,CAAS,CACF,CACP,CAAK,EACA,MAAMjB,GAAS,CACdQ,EAAO,MAAM,QAAU,OACvBO,EAAS,MAAM,CACb,MAAO,GACP,QAAS,0BAA0Bf,EAAM,SAAWA,CAAK,EACjE,CAAO,CACP,CAAK,CACL"}